{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"<p>Welcome to my blog! I hope you will find here a lot of interesting information related to Open Source and Cloud Native technologies.</p>"},{"location":"#what-is-this-blog-about","title":"What is this blog about ?","text":"<p>The main goal of this blog is to document my personal journey of setting up my home lab. This lab is going to play a role of my private cloud. The idea is to share with others like you, how to use the most up to date Cloud Native Open Source tools to build your home cloud </p>"},{"location":"#assumptions","title":"Assumptions","text":"<p>The main assumptions of my project are:</p> <ul> <li>It should be not very expensive.</li> <li>All the available programs and solutions must be Open Source.</li> <li>The solution must be as much automated as possible.</li> <li>The Infrastructure as a Code as well as GitOps is playing the central role.</li> <li>The Kubernetes is always in the hearth of the proposed solutions.</li> </ul>"},{"location":"#final-words","title":"Final words","text":"<p>If you enjoy my blog, I would be very happy if you share it with your colleagues and help me spread this knowledge. You can also leave a comments if you found something not clear, bad or just want to discuss different approaches. Thanks for visiting! </p>"},{"location":"about/","title":"k8sky.dev","text":"<p>More about me soon.. :)</p>"},{"location":"hardware/costs/","title":"Costs","text":"<p>For those who are interested in overall costs of my solution, I summarize everything in this page. The list does not include extra peripherals (like network cables, keyboards or monitors).</p>"},{"location":"hardware/costs/#summary","title":"Summary","text":"Item Price Date of purchase Proctli Vault VP2420 + WiFi Kit 358 \u20ac 2023/12/18 Crucial 32GB SODIMM DDR4 329.99 PLN (75 \u20ac) 2023/12/18 Western Digital Blue SA510 SSD 329.99 PLN (75 \u20ac) 2023/12/18 Raspberry Pi 4B 8GB 515 PLN (117 \u20ac) 2023/08/22 Geekworm KVM-A3 425.89 PLN (97 \u20ac) 2023/08/24 Sum 722 \u20ac"},{"location":"hardware/pikvm-a3/","title":"PiKVM-A3","text":"<p>PiKVM is KVM over IP solution build on Raspberry PI. It helps me to remotely manage my Vault Protectli VP2420 server. </p> <p>You can find more details about the project at its official webpage PiKVM</p>"},{"location":"hardware/pikvm-a3/#raspberry-pi-4","title":"Raspberry Pi 4","text":"<p>The solution is build on Raspberry Pi 4 model B with 8GB of memory. I think there is nothing more to add here as the Raspberry Pi is well known and if you want to learn more, you can search in google.</p>"},{"location":"hardware/pikvm-a3/#geekworm-kvm-a3","title":"Geekworm KVM-A3","text":"<p>This Kit allows to build the PiKVM with Raspberry Pi 4. The KVM-A3 is composed of following parts:</p> <ul> <li>KVM-A3 Metal Case for Raspberry Pi 4</li> <li>X630 HDMI to CSI-2 Module (for video capture)</li> <li>X630-A3 Expansion Board (for ethernet, cooling, RTC, power in etc)</li> <li>X630-A5 Adapter Board (it is installed inside the PC case, and it connect the computer motherboard and IO panel cabe of PC case)</li> <li>0.96 inch OLED (for display, Resolution: 128\u00d764 pixel)</li> <li>Ethernet Cable (TIA/EIA-568.B connection, and it's ATX control signal cable)</li> </ul> <p>For more details refer to https://wiki.geekworm.com/PiKVM-A3</p> <p></p>"},{"location":"hardware/pikvm-a3/#how-it-works","title":"How it works","text":"<p>In an nutshell - the PiKVM must be connected to server via the HDMI cable to transfer the video and USB-C OTG cable to computer to emulate both keyboard + mouse. Of course the RPi must be connected to the network. Once you know the IP, you simply visit the web interface and you can start remotely control your server (reboot, enter bios etc.).</p> <p></p>"},{"location":"hardware/protectli-vp2420/","title":"Protectli Vault","text":""},{"location":"hardware/protectli-vp2420/#the-beginning","title":"The beginning","text":"<p>It's been a long time since I started to look for a computer which will help me build my home lab. It wasn't easy task, mainly due to my high expectations. I wanted to have something which will help me to host my media applications, storage server, smart home solutions and many many more. I thought that Raspberry PI will be ideal solution. However it turns out that I need to modernize also my network by buying extra routers, AP etc. Also, I would need some dedicated solution for the storage (there I thought that some NAS device will be a good choice). Another option was to buy few used micro / tiny PCs (which are available with decent price) and use them to built Kubernetes cluster. The number of ideas were growing and my mind was blown with number of possible options.</p>"},{"location":"hardware/protectli-vp2420/#protectli-vault","title":"Protectli Vault","text":"<p>One day I found a really nice video from Techno Tim My Mobile HomeLab!. He presented there his new Mobile HomeLab based on Protectli Vault. It was the very first time I've seen this company and their products. After reading a few more articles and their official webpage Knowledge Base, I've decided to give it a try. It took me a while to select the proper product from the list. But Finally I decided on Protectli Vault VP2420.</p>"},{"location":"hardware/protectli-vp2420/#vp2420","title":"VP2420","text":"<p>The device comes with:</p> <ul> <li>4x 2.5G Port</li> <li>Intel Celeron J6412 Quad Core at 2GHz</li> <li>M.2 SATA SSD Slot</li> <li>16 GB eMMC module on board</li> </ul> <p>More details at official product page VP2420 </p> <p>You can decide on buying the device together with extra components (like Memory, Storage M2 or SATA, TPM, WiFi, 4G/5G Modem). You can also select the BIOS (between AMI &amp; coreboot), Power Cable, or Labels. I've decided to buy just a core device, together with WiFi Module to make sure I've used the supported device. I've selected also coreboot BIOS and EU Power Cable. The rest necessary components I've bought on my local market.</p> <p>I placed an order a week before Christmas and fortunately got it in my home in about 4 working days (shipped from Germany). </p> <p>It came to me with the box labeled with PROTECTLI Brand and model details as seen on below picture:</p> <p></p> <p>In the front after unboxing we can see 4x NIC Ports together with WiFi antennas mount points and power plug socket.</p> <p></p> <p>In the back we have a number of ports for different interfaces, like:</p> <ul> <li>HDMI</li> <li>DisplayPort</li> <li>USB (A &amp; C)</li> <li>SIM Card slot</li> <li>Serial Port</li> </ul> <p>And of course power button.</p> <p></p>"},{"location":"hardware/protectli-vp2420/#assembly","title":"Assembly","text":"<p>As I mentioned before, I've ordered a core device without memory and storage. Thus I bought them extra from my local suppliers. You can find the list of supported devices on the official Protectli webpage Vault Hardware Compatibility.</p> <p>I decided to buy:</p> <ul> <li>Western Digital Blue SA510 (1TB SSD Drive) Amazon</li> </ul> <p></p> <ul> <li>Crucial 32GB DDR4 SODIMM (CT32G4SFD832A) Amazon</li> </ul> <p></p> <p>So it is time to assmembly everything together. First I had to open the bottom cover. This is how it looked originally. The WiFi Kit was partially assembled (cables were not connected to WiFi card).</p> <p></p> <p>Adding Memory and M2.SSD disk were easy, however the WiFi antennas cables got constantly unplugged. I was a bit tricky to connect them properly and mount M2.SSD on top of WiFi card. But finally I made it :).</p> <p>Here is the final result:</p> <p></p> <p>And with assembled antennas:</p> <p></p>"},{"location":"hardware/protectli-vp2420/#first-start","title":"First Start","text":"<p>To start the Vault all we need is monitor with HDMI or DisplayPort cable + keyboard. By default the Vault will try to boot using network (PXE). We can click either DEL to enter the BIOS or F11 to enter the Boot Manager Menu. From the list we can choose between:</p> <ul> <li>Network Boot and Utilities</li> <li>UEFI Shell</li> <li>eMMC Device</li> </ul> <p>The coreboot BIOS is quite easy to use. </p> <p></p> <p>The Vault is very quite cause it is fanless device. It was one of the main factor for when choosing the correct computer for my Homelab.</p> <p>In the next sections I will be writing more about the Protectli Vault VP2420, focusing more on software installation and configuration. </p>"},{"location":"software/opnsense/","title":"Firewall","text":""},{"location":"software/proxmox-ve/","title":"Proxmox VE","text":""},{"location":"software/proxmox-ve/#introduction","title":"Introduction","text":"<p>I decided to use Proxmox VE for my Protectli Virtualization Platform. The main reason was ease of setup and good support and documented deployments from Protectli. I'm sure it is going to meet all my home lab requirements. There tons of documents in the Internet with tutorials for Proxmox. That was another reason of choosing this OS software.</p>"},{"location":"software/proxmox-ve/#installation","title":"Installation","text":"<p>Normally, the Proxmox VE installation is very trivial. It is based on Debian Linux and comes with really handy installer. You simply need to download the official ISO file from the Proxmox website and prepare the USB stick. </p> <p>However, with my Protectli I had few challenges. Mainly because I wanted to use its 8GB eMMC Storage for the purpose of OS installation. During installation, I was able to select my eMMC storage however the installer was failing with an error:</p> <pre><code>Unable to get device for partition 1 on device /dev/mmcblk0\n</code></pre> <p>Luckily I found this article Install Proxmox VE on eMMC, which helped me address the issue. It seems Proxmox and its installed do not like /dev/mmcblk* devices, probably considering the eMMC as not good place for hosting the OS. </p>"},{"location":"software/proxmox-ve/#post-installation","title":"Post-Installation","text":"<p>There were a few things to be configured after the installation like: - Configure necessary repositories (By default Proxmox uses the ones which requires subscription. I wanted to stay with OS only). - Install basic packages (VIM) - Update GRUB to enable PCI-Passthrough/IOMMU - etc.</p> <p>I've created my ansible role &amp; playbook for manage this part. You can find the source code on my github repo https://github.com/andrewkaczynski/homelab-ansible.</p>"}]}